(function(a){a.fn.orbit=function(b){var c={animation:"horizontal-push",animationSpeed:1000,timer:true,advanceSpeed:4000,pauseOnHover:false,startClockOnMouseOut:false,startClockOnMouseOutAfter:1000,directionalNav:true,captions:true,captionAnimation:"fade",captionAnimationSpeed:600,bullets:false,bulletThumbs:false,bulletThumbLocation:"",afterSlideChange:function(){}};var b=a.extend(c,b);return this.each(function(){var o=0,u=0,f,e,H;var I=a(this).addClass("orbit"),k=I.wrap('<div class="orbit-wrapper" />').parent();I.add(f).width("1px").height("1px");var v=I.children("div");v.each(function(){var L=a(this),M=L.width(),K=L.height();if(M>I.width()){I.add(k).width(M);f=I.width()}if(K>I.height()){I.add(k).height(K);e=I.height()}u++});function j(){H=false}function F(){H=true}if(v.length==1){b.directionalNav=false;b.timer=false;b.bullets=false}v.eq(o).css({"z-index":3}).fadeIn(function(){v.css({display:"block"})});function G(){if(!b.timer||b.timer=="false"){return false}else{if(p.is(":hidden")){J=setInterval(function(K){A("next")},b.advanceSpeed)}else{C=true;l.removeClass("active");J=setInterval(function(L){var K="rotate("+y+"deg)";y+=2;m.css({"-webkit-transform":K,"-moz-transform":K,"-o-transform":K});if(y>180){m.addClass("move");z.addClass("move")}if(y>360){m.removeClass("move");z.removeClass("move");y=0;A("next")}},b.advanceSpeed/180)}}}function g(){if(!b.timer||b.timer=="false"){return false}else{C=false;clearInterval(J);l.addClass("active")}}if(b.timer){var s='<div class="timer"><span class="mask"><span class="rotator"></span></span><span class="pause"></span></div>';k.append(s);var p=k.children("div.timer"),C;if(p.length!=0){var m=a("div.timer span.rotator"),z=a("div.timer span.mask"),l=a("div.timer span.pause"),y=0,J;G();p.click(function(){if(!C){G()}else{g()}});if(b.startClockOnMouseOut){var B;k.mouseleave(function(){B=setTimeout(function(){if(!C){G()}},b.startClockOnMouseOutAfter)});k.mouseenter(function(){clearTimeout(B)})}}}if(b.pauseOnHover){k.mouseenter(function(){g()})}if(b.captions){var r='<div class="orbit-caption"></div>';k.append(r);var E=k.children(".orbit-caption");q()}function q(){if(!b.captions||b.captions=="false"){return false}else{var K=v.eq(o).data("caption");_captionHTML=a(K).html();if(_captionHTML){E.attr("id",K).html(_captionHTML);if(b.captionAnimation=="none"){E.show()}if(b.captionAnimation=="fade"){E.fadeIn(b.captionAnimationSpeed)}if(b.captionAnimation=="slideOpen"){E.slideDown(b.captionAnimationSpeed)}}else{if(b.captionAnimation=="none"){E.hide()}if(b.captionAnimation=="fade"){E.fadeOut(b.captionAnimationSpeed)}if(b.captionAnimation=="slideOpen"){E.slideUp(b.captionAnimationSpeed)}}}}if(b.directionalNav){if(b.directionalNav=="false"){return false}var w=a("div.hot_project_left"),D=a("div.hot_project_right");w.click(function(){g();A("prev")});D.click(function(){g();A("next")})}if(b.bullets){var d='<ul class="orbit-bullets"></ul>';k.append(d);var h=k.children("ul.orbit-bullets");for(i=0;i<u;i++){var n=a("<li>"+(i+1)+"</li>");if(b.bulletThumbs){var x=v.eq(i).data("thumb");if(x){var n=a('<li class="has-thumb">'+i+"</li>");n.css({background:"url("+b.bulletThumbLocation+x+") no-repeat"})}}k.children("ul.orbit-bullets").append(n);n.data("index",i);n.click(function(){g();A(a(this).data("index"))})}t()}function t(){if(!b.bullets){return false}else{h.children("li").removeClass("active").eq(o).addClass("active")}}function A(M){var L=o,K=M;if(L==K){return false}function N(){v.eq(L).css({"z-index":1});j();b.afterSlideChange.call(this)}if(v.length=="1"){return false}if(!H){F();if(M=="next"){o++;if(o==u){o=0}}else{if(M=="prev"){o--;if(o<0){o=u-1}}else{o=M;if(L<o){K="next"}else{if(L>o){K="prev"}}}}t();v.eq(L).css({"z-index":2});if(b.animation=="fade"){v.eq(o).css({opacity:0,"z-index":3}).animate({opacity:1},b.animationSpeed,N)}if(b.animation=="horizontal-slide"){if(K=="next"){v.eq(o).css({left:f,"z-index":3}).animate({left:0},b.animationSpeed,N)}if(K=="prev"){v.eq(o).css({left:-f,"z-index":3}).animate({left:0},b.animationSpeed,N)}}if(b.animation=="vertical-slide"){if(K=="prev"){v.eq(o).css({top:e,"z-index":3}).animate({top:0},b.animationSpeed,N)}if(K=="next"){v.eq(o).css({top:-e,"z-index":3}).animate({top:0},b.animationSpeed,N)}}if(b.animation=="horizontal-push"){if(K=="next"){v.eq(o).css({left:f,"z-index":3}).animate({left:0},b.animationSpeed,N);v.eq(L).animate({left:-f},b.animationSpeed)}if(K=="prev"){v.eq(o).css({left:-f,"z-index":3}).animate({left:0},b.animationSpeed,N);v.eq(L).animate({left:f},b.animationSpeed)}}q()}}})}})(jQuery);